# Railway í™˜ê²½ ë³€ìˆ˜ ì„¤ì • - ì „ì²´ ê°€ì´ë“œ

## ğŸ”§ ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ (Backend Service)

Railway Dashboard â†’ backend ì„œë¹„ìŠ¤ â†’ Variables íƒ­

### Django ê¸°ë³¸ ì„¤ì •
DJANGO_SETTINGS_MODULE=config.settings.prod
SECRET_KEY=jw+@l07gu*e$hl64g0d!s=na(782+uj9$tf1k)yyy&\8v=pw)f
DEBUG=False

### í—ˆìš©ëœ í˜¸ìŠ¤íŠ¸ (ì´ˆê¸° ì„¤ì •)
ALLOWED_HOSTS=*.railway.app

### ë°ì´í„°ë² ì´ìŠ¤ (Supabase)
âš ï¸ ì‹¤ì œ Supabase ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=YOUR_SUPABASE_PASSWORD_HERE
DB_HOST=db.uzsexjgqglhwsbmrmymu.supabase.co
DB_PORT=5432

### Clerk ì¸ì¦
âš ï¸ ì‹¤ì œ Clerk í‚¤ë¡œ ë³€ê²½í•˜ì„¸ìš”
CLERK_SECRET_KEY=YOUR_CLERK_SECRET_KEY_HERE

### CORS ì„¤ì • (ì´ˆê¸° - ì„ì‹œ)
CORS_ALLOW_ALL_ORIGINS=True

---

## ğŸ“± í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ (Frontend Service)

Railway Dashboard â†’ frontend ì„œë¹„ìŠ¤ â†’ Variables íƒ­

### API ì—°ê²°
âš ï¸ ë°±ì—”ë“œ ë°°í¬ í›„ ì‹¤ì œ URLë¡œ ë³€ê²½í•˜ì„¸ìš”
REACT_APP_API_URL=https://backend-production.railway.app

### Clerk ê³µê°œ í‚¤
âš ï¸ ì‹¤ì œ Clerk ê³µê°œ í‚¤ë¡œ ë³€ê²½í•˜ì„¸ìš”
REACT_APP_CLERK_PUBLISHABLE_KEY=YOUR_CLERK_PUBLISHABLE_KEY_HERE

### ë¹Œë“œ ìµœì í™”
GENERATE_SOURCEMAP=false

---

## ğŸ”„ í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ í›„ ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì—…ë°ì´íŠ¸

í”„ë¡ íŠ¸ì—”ë“œ URLì„ ì–»ì€ í›„ ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

Railway Dashboard â†’ backend ì„œë¹„ìŠ¤ â†’ Variables íƒ­

### ì‚­ì œí•  í™˜ê²½ ë³€ìˆ˜
CORS_ALLOW_ALL_ORIGINS (ì‚­ì œ)

### ì¶”ê°€í•  í™˜ê²½ ë³€ìˆ˜
âš ï¸ ì‹¤ì œ í”„ë¡ íŠ¸ì—”ë“œ URLë¡œ ë³€ê²½í•˜ì„¸ìš”
CORS_ALLOWED_ORIGINS=https://frontend-production.railway.app

### ì—…ë°ì´íŠ¸í•  í™˜ê²½ ë³€ìˆ˜
âš ï¸ ê¸°ì¡´ ê°’ì— í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸ ì¶”ê°€
ALLOWED_HOSTS=*.railway.app,frontend-production.railway.app

---

## ğŸ” Clerk Webhook ì„¤ì • í›„ ì¶”ê°€

Clerk webhook ì„¤ì • ì™„ë£Œ í›„ ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ì— ì¶”ê°€:

Railway Dashboard â†’ backend ì„œë¹„ìŠ¤ â†’ Variables íƒ­

CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

---

## ğŸ“‹ í™˜ê²½ ë³€ìˆ˜ í™•ì¸ ë°©ë²•

### Supabase ì •ë³´ í™•ì¸
1. https://supabase.com/dashboard ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. Settings â†’ Database
4. Connection String ì„¹ì…˜:
   - Host: db.uzsexjgqglhwsbmrmymu.supabase.co
   - Database name: postgres
   - Port: 5432
   - User: postgres
   - Password: "Show password" í´ë¦­í•˜ì—¬ ë³µì‚¬

### Clerk Secret Key í™•ì¸
1. https://dashboard.clerk.com ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. API Keys ë©”ë‰´
4. Secret Keys ì„¹ì…˜ì—ì„œ ë³µì‚¬
   - í˜•ì‹: sk_live_... ë˜ëŠ” sk_test_...

### Clerk Publishable Key í™•ì¸
1. https://dashboard.clerk.com ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. API Keys ë©”ë‰´
4. Publishable keys ì„¹ì…˜ì—ì„œ ë³µì‚¬
   - í˜•ì‹: pk_live_... ë˜ëŠ” pk_test_...

### Clerk Webhook Secret í™•ì¸
1. Clerk Dashboard â†’ Webhooks
2. ìƒì„±í•œ endpoint í´ë¦­
3. Signing Secret ë³µì‚¬
   - í˜•ì‹: whsec_...

---

## âœ… ë°°í¬ ìˆœì„œ ë° í™˜ê²½ ë³€ìˆ˜ ì„¤ì • íƒ€ì´ë°

### 1ë‹¨ê³„: ë°±ì—”ë“œ ì´ˆê¸° ë°°í¬
- DJANGO_SETTINGS_MODULE
- SECRET_KEY
- DEBUG
- ALLOWED_HOSTS (*.railway.appë§Œ)
- DB_NAME, DB_USER, DB_PASSWORD, DB_HOST, DB_PORT
- CLERK_SECRET_KEY
- CORS_ALLOW_ALL_ORIGINS=True (ì„ì‹œ)

### 2ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
- REACT_APP_API_URL (ë°±ì—”ë“œ URL ì‚¬ìš©)
- REACT_APP_CLERK_PUBLISHABLE_KEY
- GENERATE_SOURCEMAP

### 3ë‹¨ê³„: ë°±ì—”ë“œ CORS ì—…ë°ì´íŠ¸
- CORS_ALLOW_ALL_ORIGINS ì‚­ì œ
- CORS_ALLOWED_ORIGINS ì¶”ê°€ (í”„ë¡ íŠ¸ì—”ë“œ URL)
- ALLOWED_HOSTS ì—…ë°ì´íŠ¸ (í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸ ì¶”ê°€)

### 4ë‹¨ê³„: Clerk Webhook ì„¤ì •
- CLERK_WEBHOOK_SECRET ì¶”ê°€

---

## ğŸš¨ ì£¼ì˜ì‚¬í•­

1. **SECRET_KEY**: ì ˆëŒ€ ê³µê°œí•˜ì§€ ë§ˆì„¸ìš”
2. **DB_PASSWORD**: Supabaseì—ì„œ ì •í™•íˆ ë³µì‚¬
3. **URL í˜•ì‹**: ë°˜ë“œì‹œ https:// í¬í•¨
4. **ê³µë°± ì œê±°**: ëª¨ë“  ê°’ì—ì„œ ì•ë’¤ ê³µë°± ì œê±°
5. **ì¬ë°°í¬**: í™˜ê²½ ë³€ìˆ˜ ë³€ê²½ í›„ ìë™ ì¬ë°°í¬ë¨

---

## ğŸ’¡ íŒ

### Railway CLIë¡œ í™˜ê²½ ë³€ìˆ˜ í™•ì¸
```bash
# Railway CLI ì„¤ì¹˜
npm install -g @railway/cli

# ë¡œê·¸ì¸
railway login

# í”„ë¡œì íŠ¸ ì—°ê²°
railway link

# ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ í™•ì¸
railway variables --service backend

# í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ í™•ì¸
railway variables --service frontend
```

### ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš© .env íŒŒì¼ (ë°±ì—”ë“œ)
```bash
# backend/.env
DJANGO_SETTINGS_MODULE=config.settings.dev
DEBUG=True
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=YOUR_SUPABASE_PASSWORD
DB_HOST=db.uzsexjgqglhwsbmrmymu.supabase.co
DB_PORT=5432
CLERK_SECRET_KEY=YOUR_CLERK_SECRET_KEY
```

### ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš© .env íŒŒì¼ (í”„ë¡ íŠ¸ì—”ë“œ)
```bash
# frontend/.env.local
REACT_APP_API_URL=http://localhost:8000
REACT_APP_CLERK_PUBLISHABLE_KEY=YOUR_CLERK_PUBLISHABLE_KEY
```

---

**ì‘ì„±ì¼:** 2025ë…„ 11ì›” 3ì¼
**ëª©ì :** Railway í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ì „ ê°€ì´ë“œ
